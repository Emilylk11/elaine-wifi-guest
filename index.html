<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0C9A8E" />
  <title>Guest Wi-Fi – Coffee Splash</title>
  <meta name="description" content="Welcome! Tell us your coffee order ☕" />
  <style>
    :root{
      --bg-start:#FFCCEA; --bg-end:#FFABDB; --ink:#111418; --card:#fff; --muted:#6b7280;
      --ring:#e5e7eb; --accent:#0AA870; --accent-ink:#fff; --radius:18px;
      --shadow:0 12px 40px rgba(17,20,24,.12); --spacing: clamp(16px, 3vw, 28px);
      --fs-title: clamp(22px, 5.5vw, 34px); --fs-body: clamp(14px, 3.8vw, 16px); --fs-small: clamp(12px, 3.4vw, 14px); --tap:48px;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:linear-gradient(135deg,var(--bg-start),var(--bg-end));
      min-height:100svh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding-block:40px;
    }
    .wrap{width:100%;max-width:960px;padding:var(--spacing)}
    .card{
      background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;
      display:grid;grid-template-columns:1fr
    }
    @media (min-width:900px){ .card{grid-template-columns:1.05fr 1fr} }
    .visual{
      background:
        linear-gradient(to bottom, rgba(0,0,0,.20), rgba(0,0,0,.38)),
        url('https://emilylk11.github.io/elaine-wifi-guest/apt-kitchen.jpg')
        center/cover no-repeat;
      min-height:20vh;display:flex;align-items:flex-end;gap:10px;padding:18px;color:#fff;
    }
    @media (min-width:900px){ .visual{min-height:260px} }
    .logo{background:#ffffff1a;border:1px solid #ffffff45;color:#fff;padding:10px 14px;border-radius:999px;font-weight:800;backdrop-filter:blur(2px);font-size:var(--fs-small)}
    .content{padding:var(--spacing)}
    .eyebrow{font-size:var(--fs-small);color:var(--muted);letter-spacing:.12em;text-transform:uppercase;font-weight:700}
    h1{margin:.35rem 0 .4rem;font-size:var(--fs-title);line-height:1.15}
    p.lead{margin:.25rem 0 1rem;color:#374151;font-size:var(--fs-body)}
    form{display:grid;gap:14px;margin-top:10px}
    label{font-weight:650;margin-bottom:6px;display:block;font-size:var(--fs-body)}
    .row{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:560px){ .row{grid-template-columns:1fr 1fr} }
    select,input[type="text"]{
      width:100%;min-height:var(--tap);padding:12px 14px;border-radius:12px;border:1px solid var(--ring);font:inherit;background:#fff;font-size:var(--fs-body)
    }
    .radio-group{display:flex;flex-wrap:wrap;gap:10px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;min-height:var(--tap);border-radius:999px;border:1px solid var(--ring);cursor:pointer;background:#fff;user-select:none;font-size:var(--fs-body)}
    .pill input{accent-color:var(--accent);width:18px;height:18px}
    .cta{margin-top:6px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    button{
      appearance:none;border:0;border-radius:999px;min-height:var(--tap);padding:14px 18px;width:100%;
      font-weight:800;cursor:pointer;font-size:var(--fs-body);background:var(--accent);color:var(--accent-ink);box-shadow:0 10px 24px rgba(10,168,112,.28)
    }
    @media (min-width:560px){ button{width:auto} }
    .tiny{font-size:var(--fs-small);color:var(--muted)}
    .footer{margin-top:8px;display:flex;justify-content:space-between;align-items:center;gap:12px;color:var(--muted);font-size:var(--fs-small)}
    .footer a{color:inherit;text-decoration:underline}
    .skip-link{min-height:var(--tap);display:inline-flex;align-items:center}
    .wrap{padding-left:max(var(--spacing),env(safe-area-inset-left));padding-right:max(var(--spacing),env(safe-area-inset-right))}
    .content{max-width:700px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="visual"><span class="logo">Guest Wi-Fi</span></div>
      <div class="content">
        <div class="eyebrow">Welcome</div>
        <h1>What’s your go-to coffee order? ☕</h1>
        <p class="lead">Fill this out and we’ll record your order instantly.</p>

        <!-- We keep method/action for semantics, but JS will intercept submit -->
        <form id="coffeeForm" method="POST" target="_self"
              action="https://docs.google.com/forms/d/e/1FAIpQLSdd0-rI22hwHCRkBV9hqIwg-TEXJmX8nEYdNcqncpapkAnAFg/formResponse">

          <div class="row">
            <div>
              <label for="name">Name</label>
              <input id="name" name="entry.592292101" type="text" placeholder="Jane Doe" autocomplete="name" />
            </div>
            <div>
              <label for="drink">Drink *</label>
              <select id="drink" name="entry.981299141" required>
                <option value="">Choose…</option>
                <option>Latte</option>
                <option>Americano</option>
                <option>Cappuccino</option>
                <option>Macchiato</option>
                <option>Espresso</option>
              </select>
            </div>
          </div>

          <div>
            <label>Iced? *</label>
            <div class="radio-group" role="group" aria-label="Iced">
              <label class="pill"><input type="radio" name="entry.515954189" value="Yes" required>Yes</label>
              <label class="pill"><input type="radio" name="entry.515954189" value="No">No</label>
            </div>
          </div>

          <div>
            <label>Almond Milk *</label>
            <div class="radio-group" role="group" aria-label="Almond Milk">
              <label class="pill"><input type="radio" name="entry.1499600857" value="Yes" required>Yes</label>
              <label class="pill"><input type="radio" name="entry.1499600857" value="No">No</label>
            </div>
          </div>

          <div>
            <label>Syrups</label>
            <div class="radio-group" role="group" aria-label="Syrups">
              <label class="pill"><input type="checkbox" name="entry.994605113" value="Cupcake">Cupcake</label>
              <label class="pill"><input type="checkbox" name="entry.994605113" value="French Vanilla">French Vanilla</label>
              <label class="pill"><input type="checkbox" name="entry.994605113" value="Twix">Twix</label>
              <label class="pill"><input type="checkbox" name="entry.994605113" value="Caramel Pumpkin">Caramel Pumpkin</label>
              <label class="pill"><input type="checkbox" name="entry.994605113" value="Cookie Dough">Cookie Dough</label>
              <label class="pill"><input type="checkbox" name="entry.994605113" value="None">None</label>
              <label class="pill">
                <input type="checkbox" id="syrupOtherToggle">Other
              </label>
            </div>
            <!-- Only include 'Other' text field; we'll add the special fields in JS if used -->
            <input id="syrupOtherInput" type="text" placeholder="Type other syrup…" style="display:none;margin-top:8px" />
          </div>

          <div>
            <label for="notes">Notes</label>
            <input id="notes" name="entry.320377066" type="text" placeholder="Extra ice, 1 pump, etc." />
          </div>

          <div class="cta">
            <button type="submit">Send Order</button>
            <span class="tiny">Your order is sent instantly ✅</span>
          </div>

          <div class="footer">
            <span>Made with ❤️ + caffeine</span>
            <a href="#" id="skipLink" class="skip-link">Skip for now →</a>
          </div>
        </form>
      </div>
    </div>
  </div>

<script>
  /* ===== Show/hide the "Other syrup" input ===== */
  const otherToggle = document.getElementById('syrupOtherToggle');
  const otherInput  = document.getElementById('syrupOtherInput');

  function updateOther(){
    const on = otherToggle && otherToggle.checked;
    otherInput.style.display = on ? 'block' : 'none';
    if(!on) otherInput.value = '';
  }
  if(otherToggle){ otherToggle.addEventListener('change', updateOther); updateOther(); }

  /* ===== Background submit + redirect (no Google navigation) ===== */
  const form          = document.getElementById('coffeeForm');
  const THANK_YOU_URL = "https://emilylk11.github.io/elaine-wifi-guest/thanks-gif.html";
  const FORM_ACTION   = "https://docs.google.com/forms/d/e/1FAIpQLSdd0-rI22hwHCRkBV9hqIwg-TEXJmX8nEYdNcqncpapkAnAFg/formResponse";

  form.addEventListener('submit', function(e){
    e.preventDefault();

    const fd = new FormData();

    // Basic fields
    const name  = document.getElementById('name')?.value?.trim();
    const drink = document.getElementById('drink')?.value;
    const notes = document.getElementById('notes')?.value?.trim();
    if(name)  fd.append('entry.592292101', name);
    if(drink) fd.append('entry.981299141', drink);
    if(notes) fd.append('entry.320377066', notes);

    // Radios
    const iced   = document.querySelector('input[name="entry.515954189"]:checked')?.value;
    const almond = document.querySelector('input[name="entry.1499600857"]:checked')?.value;
    if(iced)   fd.append('entry.515954189', iced);
    if(almond) fd.append('entry.1499600857', almond);

    // Syrups (checkboxes)
    document.querySelectorAll('input[name="entry.994605113"]:checked')
      .forEach(cb => fd.append('entry.994605113', cb.value));

    // Other syrup (only when used)
    if (otherToggle && otherToggle.checked && otherInput.value.trim()){
      fd.append('entry.994605113', '__other_option__');
      fd.append('entry.994605113.other_option_response', otherInput.value.trim());
    }

    // Fire-and-forget POST; redirect regardless of result
    fetch(FORM_ACTION, { method: 'POST', mode: 'no-cors', body: fd })
      .catch(()=>{})
      .finally(() => {
        const url = new URL(THANK_YOU_URL, window.location.href);
        if(name) url.searchParams.set('name', name);
        window.location.href = url.toString();
      });
  });

  // Skip → straight to thank-you (no Google call)
  document.getElementById('skipLink').addEventListener('click', (e) => {
    e.preventDefault();
    const name = (document.getElementById('name')?.value || '').trim();
    const url  = new URL(THANK_YOU_URL, window.location.href);
    if (name) url.searchParams.set('name', name);
    window.location.href = url.toString();
  });
</script>

</body>
</html>
